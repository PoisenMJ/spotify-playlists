
<mat-toolbar>
    <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
        <mat-icon>menu</mat-icon>
    </button>
    <span>Spotify Sorter</span>
    <span class="spacer"></span>
    <mat-form-field class="filter-input" color="warn" appearance="outline">
        <input id="filter-input-text" matInput (keyup)="applyFilter($event)" placeholder="Seach here..." [(ngModel)]="value" #input>
    </mat-form-field>
    <button mat-flat-button color="primary">
        <a id="createPlaylistButton" routerLink="../create-playlist">Create +</a>
    </button>
</mat-toolbar>  
<div class="main">
    <div class="tracks">
        <table id="tracks-table" mat-table [dataSource]="songs">
            <ng-container matColumnDef="select">
                <th mat-header-cell *matHeaderCellDef>
                    <mat-checkbox (change)="$event ? selectAllSongs($event.checked) : null"
                                    [checked]="isAllSelected()"
                                    [indeterminate]="masterToggleIntermediate()">
                    </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let row">
                    <mat-checkbox [(ngModel)]="row.selected">
                    </mat-checkbox>
                </td>
            </ng-container>
            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef> Image </th>
                <td mat-cell *matCellDef="let song">
                    <img class="track-image" src="{{song.image}}">
                </td>
            </ng-container>
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Name </th>
                <td mat-cell *matCellDef="let song">
                    <span class="track-name fs-5 lead">{{song.name}}</span>
                    <br>
                    <span class="track-artist fs-6 fw-bolder ">{{song.artist}}</span>
                </td>
            </ng-container>
            <ng-container matColumnDef="genre">
                <th mat-header-cell *matHeaderCellDef> Genre </th>
                <td mat-cell *matCellDef="let song">
                    <span matTooltipVisibility="visible"
                            matTooltip="song.genre.join(', ')"
                            matTooltipHideDelay="100000"
                            *ngIf="song.genre.length > 1">{{song.genre[0]}}...</span>
                    <span *ngIf="song.genre.length == 1">{{song.genre[0]}}</span>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
        <mat-paginator 
            [pageSizeOptions]="[20, 30, 50, 100]">
        </mat-paginator>
    </div>
</div>